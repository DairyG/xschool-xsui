<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" href="../../layui/css/layui.css" />
		<link rel="stylesheet" href="../../lib/ztree/css/metroStyle/metroStyle.css" type="text/css">
		<link rel="stylesheet" href="../../layui/css/common.css" />
		<script type="text/javascript" src="../../lib/jquery-1.8.3.min.js"></script>
		<script type="text/javascript" src="../../layui/layui.js"></script>
		<script type="text/javascript" src="../../js/common.js"></script>
		<script type="text/javascript" src="../../lib/ztree/jquery.ztree.all.min.js"></script>
		<style type="text/css">
			.linePop .layui-form-item .layui-form-checkbox[lay-skin=primary] { margin-bottom: 8px;}
		</style>
	</head>
	<body class="bgf2f2f2">
		<div class="childrenBody layui-row layui-col-space20" style="background:none;">
			<div class="layui-col-md3 layui-col-sm3">
				<div class="bgwhite"> 
					<ul id="ztree" class="ztree"></ul>
				</div>
			</div>
			<div class="layui-col-md9 layui-col-sm9">
				<div class="bgwhite">
					<div class="layui-card-header">
						<span class="margin-r-10 fontsize-16">销售部</span>
						<a href="javascript:;" class="margin-r-10 text-edit"><i class="layui-icon">&#xe642;</i> 修改</a>
						<a href="javascript:;" class="margin-r-10 text-add"><i class="layui-icon">&#xe654;</i> 添加</a>
						<a href="javascript:;" class="text-del"><i class="layui-icon">&#xe640;</i> 删除</a>
					</div>
					<div class="layui-card-body">
						<form class="layui-form">
							<div class="layui-form-item layui-col-md12 layui-col-sm12">
								<label class="layui-form-label"><span class="text-red">*</span>部门名称</label>
								<div class="layui-input-block">
									<input type="tel" class="layui-input">
								</div>
							</div>
							<div class="layui-form-item layui-col-md12 layui-col-sm12">
								<label class="layui-form-label"><span class="text-red">*</span>部门编号 </label>
								<div class="layui-input-block">
									<input type="tel" class="layui-input">
								</div>
							</div>
							<div class="layui-form-item layui-col-md12 layui-col-sm12">
								<label class="layui-form-label">职责描述</label>
								<div class="layui-input-block">
									<textarea class="layui-textarea"></textarea>
								</div>
							</div>
							<div class="layui-form-item layui-col-md12 layui-col-sm12">
								<label class="layui-form-label">职位一 </label>
								<div class="layui-input-inline">
									<input type="tel" class="layui-input layui-disabled" value="张三" readonly />
								</div>
								<button class="layui-btn layui-btn-danger">删除</button>
							</div>
							<div class="layui-form-item layui-col-md12 layui-col-sm12">
								<label class="layui-form-label">职位二 </label>
								<div class="layui-input-inline">
									<input type="tel" class="layui-input layui-disabled" value="张三" readonly />
								</div>
								<button class="layui-btn layui-btn-danger">删除</button>
							</div>
							<div class="layui-row text-right">
								<span class="layui-btn layui-btn-normal" id="set_btn">添加领导职位</span>
								<button class="layui-btn layui-btn-danger" lay-submit lay-filter="submit">确认</button>
								<button class="layui-btn layui-btn-danger" lay-submit lay-filter="submit">确认并继续添加</button>
								<span class="layui-btn" onclick="history.back(-1)">返回</span>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="linePop">
			<div class="layui-card-body">
				<form class="layui-form " >
					<div class="layui-form-item">
						<label class="layui-form-label"><span class="text-red">*</span>职位</label>
						<div class="layui-input-block">
							<input type="radio" name="pos[]" title="职位一" lay-skin="primary">
							<input type="radio" name="pos[]" title="职位二" lay-skin="primary">
							<input type="radio" name="pos[]" title="职位三" lay-skin="primary">
							<input type="radio" name="pos[]" title="职位一" lay-skin="primary">
							<input type="radio" name="pos[]" title="职位二" lay-skin="primary">
							<input type="radio" name="pos[]" title="职位三" lay-skin="primary">
						</div>
					</div>
					<!-- <div class="layui-row text-right padding-r-50">
						<button class="layui-btn" lay-submit="" lay-filter="formDemo">确认</button>
						<span class="layui-btn layui-btn-primary" onclick="closePop()">返回</span>
					</div> -->
				</form>
			</div>
		</div>
		<script>
			var zTreeObj;
			var setting = {
				view: {
				    dblClickExpand: false
				},
				callback: {
				    onClick: function (e, treeId, treeNode) {
				        var tree = $.fn.zTree.getZTreeObj(treeId);
				        tree.expandNode(treeNode);
				
						tnode=treeNode;
						console.log('tnode',tnode);
				        currentid=treeNode.id;
				    },
				    onAsyncSuccess: function (event, treeId, treeNode, msg) {
				        var nodes = zTree.getNodes();
				        var node=nodes.length>0?nodes[0]:null;
				        console.log(node);
				        if(node!=null){
				            zTree.expandNode(node, true, false, false);
				        }
				        
				    }
				}
			}; // zTree 的参数配置，后面详解
			var zNodes = [ // zTree 的数据属性，此处使用标准json格式
				{
					name: "四川某某公司",
					open: true,
					children: [{
							name: "销售部",
							children: [{
								name: "销售1部",
								children: [{
									name: "销售1组"
								}]
							}]
						},
						{
							name: "市场部"
						},
						{
							name: "策划部",
							children: [{
								name: "策划1部"
		
							}]
						}
					]
				}
		
			];
			$(document).ready(function() {
				zTreeObj = $.fn.zTree.init($("#ztree"), setting, zNodes);
			})
			
			layui.use([ 'table', 'element'], function() {
				var table = layui.table,
					element = layui.element;	
			});
			function closePop(){
				layer.closeAll();
			}
			$('#set_btn').click(function(){
				layer_linePop = layer.open({
					type: 1,
					title:'设置领导职位',
					String: false,
					closeBtn: 1,
					btn:['确定','取消'],
					skin: 'layui-layer-rim',
					area: ['500px','220px'],
					content: $('.linePop')
				});
			});
		</script>
	</body>
</html>